{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["Show","TodoList","todos","setUserId","selectedUserId","useState","searchTitle","setSearchTitle","completFilter","setСompletFilter","todosToShow","setTodosToShow","useEffect","filter","todo","filtredByTitle","title","toLowerCase","includes","Active","completed","Completed","All","className","htmlFor","type","value","onChange","target","id","placeholder","event","map","classNames","checked","readOnly","userId","onClick","MAIN_URL","getTodos","a","fetch","resp","json","getUser","user","CurrentUser","resetUser","currentUser","setCurrentUser","newUser","useCallback","name","email","phone","App","setSelectedUserId","setTodos","loadTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e6ad00ea.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport { Todo } from '../../types/Todo';\n\ninterface Props {\n  todos: Todo[],\n  setUserId: (id: number) => void,\n  selectedUserId: number | null,\n}\n\nenum Show {\n  All = 'All',\n  Active = 'Active',\n  Completed = 'Completed',\n}\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  setUserId,\n  selectedUserId,\n}) => {\n  const [searchTitle, setSearchTitle] = useState('');\n  const [completFilter, setСompletFilter] = useState('All');\n  const [todosToShow, setTodosToShow] = useState(todos);\n\n  useEffect(() => {\n    setTodosToShow(todos.filter(todo => {\n      const filtredByTitle = todo.title.toLowerCase()\n        .includes(searchTitle.toLowerCase());\n\n      switch (completFilter) {\n        case Show.Active:\n          return filtredByTitle && !todo.completed;\n        case Show.Completed:\n          return filtredByTitle && todo.completed;\n        case Show.All:\n          return filtredByTitle;\n        default:\n          return false;\n      }\n    }));\n  }, [todos, searchTitle, completFilter]);\n\n  return (\n    <div className=\"TodoList\">\n      <h2 className=\"TodoList__title\">Todos: </h2>\n      <label htmlFor=\"searchBar\">\n        <input\n          type=\"text\"\n          data-cy=\"filterByTitle\"\n          value={searchTitle}\n          onChange={({ target }) => {\n            setSearchTitle(target.value);\n          }}\n          id=\"searchBar\"\n          className=\"TodoList__bar\"\n          placeholder=\"Search Title\"\n        />\n      </label>\n      <select\n        className=\"TodoList__select\"\n        value={completFilter}\n        onChange={(event) => {\n          setСompletFilter(event.target.value);\n        }}\n      >\n        <option value={Show.All}>All</option>\n        <option value={Show.Active}>Active</option>\n        <option value={Show.Completed}>Completed</option>\n      </select>\n\n      <div className=\"TodoList__container\">\n        <ul className=\"TodoList__list\" data-cy=\"listOfTodos\">\n          {todosToShow.map(todo => (\n            <li\n              key={todo.id}\n              className={classNames(\n                'TodoList__item',\n                { 'TodoList__item--checked': todo.completed },\n                { 'TodoList__item--unchecked': !todo.completed },\n              )}\n            >\n              <label>\n                <input\n                  checked={todo.completed}\n                  type=\"checkbox\"\n                  readOnly\n                />\n                <p>{todo.title}</p>\n              </label>\n\n              {todo.userId && (\n                <button\n                  data-cy=\"userButton\"\n                  onClick={() => {\n                    setUserId(todo.userId);\n                  }}\n                  className={classNames(\n                    'TodoList__user-button',\n                    'button',\n                    {\n                      'TodoList__user-button--selected':\n                      selectedUserId === todo.userId,\n                    },\n                  )}\n                  type=\"button\"\n                >\n                  {`User #${todo.userId}`}\n                </button>\n              )}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import { Todo } from './types/Todo';\nimport { User } from './types/User';\n\nconst MAIN_URL = 'https://mate.academy/students-api';\n\nexport const getData = async (url: string) => {\n  const response = await fetch(`${MAIN_URL}${url}`);\n\n  return response.json();\n};\n\nexport const getTodos = async (): Promise<Todo[]> => {\n  const resp = await fetch(`${MAIN_URL}/todos`);\n  const todos = await resp.json();\n\n  return todos;\n};\n\nexport const getUser = async (id: number): Promise<User> => {\n  const resp = await fetch(`${MAIN_URL}/users/${id}`);\n  const user = await resp.json();\n\n  return user;\n};\n","import React, { useCallback, useEffect, useState } from 'react';\nimport './CurrentUser.scss';\nimport { User } from '../../types/User';\nimport { getUser } from '../../api';\n\ninterface Props {\n  id: number;\n  resetUser: () => void;\n}\n\nexport const CurrentUser: React.FC<Props> = ({\n  id,\n  resetUser,\n}) => {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n\n  const newUser = useCallback(async () => {\n    setCurrentUser(await getUser(id));\n  }, [id]);\n\n  useEffect(() => {\n    newUser();\n  }, [id]);\n\n  return (\n    <>\n      { currentUser && (\n        <div className=\"currentUser\">\n          <h2 className=\"currentUser__title\">\n            <span>\n              {`Selected user: ${currentUser.id}`}\n            </span>\n          </h2>\n\n          <h3 className=\"currentUser__name\" data-cy=\"userName\">\n            {currentUser.name}\n          </h3>\n\n          <p className=\"currentUser__email\">\n            {currentUser.email}\n          </p>\n\n          <p className=\"currentUser__phone\">\n            {currentUser.phone}\n          </p>\n\n          <button\n            type=\"button\"\n            className=\"currentUser__clear button\"\n            onClick={resetUser}\n          >\n            Clear\n          </button>\n        </div>\n      )}\n    </>\n  );\n};\n","import React, { useState, useEffect, useCallback } from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\nimport { Todo } from './types/Todo';\n\nconst App: React.FC = () => {\n  const [selectedUserId, setSelectedUserId] = useState<number | null>(null);\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  const resetUser = useCallback(() => {\n    return setSelectedUserId(null);\n  }, []);\n\n  const loadTodos = useCallback(async () => {\n    setTodos(await getTodos());\n  }, []);\n\n  useEffect(() => {\n    loadTodos();\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodoList\n          todos={todos}\n          selectedUserId={selectedUserId}\n          setUserId={setSelectedUserId}\n        />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          {selectedUserId ? (\n            <CurrentUser\n              id={selectedUserId}\n              resetUser={resetUser}\n            />\n          ) : 'No user selected'}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}